<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        window.addEventListener('load', bind)
        function bind(){
            document.querySelector('#btn1')
                .addEventListener('click', function(){

                    // ajax 객체 생성
                    const xhr = new XMLHttpRequest();

                    // 보낼 준비
                    // 방식method, 주소
                    xhr.open('get', 'https://jsonplaceholder.typicode.com/users')
                    
                    // 보내기
                    xhr.send()

                    xhr.onload = function(){
                        console.log('다녀왔습니다')
                        // xhr.responseText : 응답 받은 내용이 담겨있음
                        console.log(xhr.responseText)
                        const data = JSON.parse( xhr.responseText )
                        console.log(data)
                        console.log(data[0])
                        console.log(data[0].username)
                        console.log(data[0]['username'])
                        console.log(data[0].address.geo.lat)
                    }
                })
            document.querySelector('#btn2')
                .addEventListener('click', function(){

                    // ajax 객체 생성
                    const xhr = new XMLHttpRequest();

                    // 보낼 준비
                    // 방식method, 주소
                    xhr.open('get', 'https://crix-api-cdn.upbit.com/v1/crix/candles/minutes/30?code=CRIX.UPBIT.KRW-BTC&count=2&to=2025-07-14T06%3A19%3A39Z&timestamp=1752474012515')
                    
                    // 보내기
                    xhr.send()

                    xhr.onload = function(){
                        console.log(xhr.responseText)
                        const data = JSON.parse( xhr.responseText )
                        console.log(data[0].tradePrice)
                    }
                })
            document.querySelector('#btn3')
                .addEventListener('click', function(){

                    // ajax 객체 생성
                    const xhr = new XMLHttpRequest();

                    // 보낼 준비
                    // 방식method, 주소
                    // CORS 문제로 막힘
                    xhr.open('get', 'https://polling.finance.naver.com/api/realtime?query=SERVICE_ITEM:005930|SERVICE_RECENT_ITEM:005930,035720&_callback=window.__jindo2_callback._9001')
                    
                    // 보내기
                    xhr.send()

                    xhr.onload = function(){
                        console.log(xhr.responseText)
                        const data = JSON.parse( xhr.responseText )
                        console.log(data[0].tradePrice)
                    }
                })
            document.querySelector('#btn4')
                .addEventListener('click', function(){

                    const xhr = new XMLHttpRequest();
                    xhr.open('get', 'http://humanjobs.co.kr')
                    xhr.send()
                    xhr.onload = function(){
                        console.log(xhr.responseText)
                    }

                })
            document.querySelector('#btn5')
                .addEventListener('click', function(){
                    const serviceKey = 'qVTaW2lslPLGXY2uHKVY3Vuc66ZQmC950RmMKYEg4Grvfz%2FeYbsd%2Fp4F0CzdQQwC26aBf2fTEHW76VU0OA04RQ%3D%3D'
                    let url = 'http://apis.data.go.kr/1360000/VilageFcstInfoService_2.0/getUltraSrtFcst'
                    url += '?serviceKey='+ serviceKey
                    url += '&numOfRows=1000'
                    url += '&pageNo=1'
                    url += '&dataType=JSON'
                    url += '&base_date=20250714'
                    url += '&base_time=1400'
                    url += '&nx=63'
                    url += '&ny=100'

                    const xhr = new XMLHttpRequest();
                    xhr.open('get', url)
                    xhr.send()
                    xhr.onload = function(){
                        console.log(xhr.responseText)
                        const data = JSON.parse(xhr.responseText)
                        console.log(data)
                    }

                })
        }
    </script>
</head>
<body>
    <button type="button" id="btn1">ajax 실행</button><br>
    <button type="button" id="btn2">업비트</button><br>
    <button type="button" id="btn3">네이버주식</button><br>
    <button type="button" id="btn4">휴먼잡스</button><br>
    <button type="button" id="btn5">날씨예보</button><br>
</body>
</html>